
<div class="row">
    <!-- @if (isNewUser==false) { -->
        <div *ngIf="!isNewUser" class="col-12">
        <div class="card">
            <div class="card-header bg-warning">
                <div class="row">
                    <div class="col-6">
                    <h6>User List</h6>
                </div>
                <div class="col-6 text-end">
                    <button class="btn btn-success" (click)="changeView()">Add New USer</button>
                </div>
                </div>
            </div>
            <div class="card-body">
                <div class="row">
                    @for (item of users; track $index) {
                        <div class="col-3">
                            <div class="card" style="width: 18rem;">
  <div class="card-body">
    <h5 class="card-title">{{item.name}}</h5>
    <h6 class="card-subtitle mb-2 text-muted">{{item.email}}</h6>
    <!-- <p class="card-text">{{item.uName}}</p> -->
    <a class="card-link text-succes" (click)="onEdit(item)">Edit</a>
    <a class="card-link text-danger" (click)="onDelete(item.Id)">Delete</a>
  </div>
</div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
    <!-- } @else { -->
        <div *ngIf="isNewUser" class="col-12">
        <div class="card">
            <div class="card-header bg-warning">
                <div class="row">
                    <div class="col-6">
                    <h6>New User</h6>
                </div>
                <div class="col-6 text-end">
                    <button class="btn btn-success" (click)="changeView()">List View</button>
                </div>
                </div>
            </div>
            <div class="card-body">
                <form class="row g-3 needs-validation" #formvalue="ngForm">
  <div class="col-md-6">
    <label for="firstName" class="form-label">First Name</label>
    <input type="text" [(ngModel)]="userobj.name" #name="ngModel" name="name" class="form-control" id="firstName" required>
    @if (name.touched) {
        <div class="text-danger">
            @if (name.errors?.['required']) {
                <span>Required Feild </span>
            }
            @if (name.errors?.['minlength']) {
                <span>Min. 4 Char Needed</span>
            }
        </div>
    }
    <div class="valid-feedback">Looks good!</div>
  </div>

  <div class="col-md-6">
    <label for="email" class="form-label">Email</label>
    <input type="email" [(ngModel)]="userobj.email" name="email" class="form-control" id="email" >
    <div class="invalid-feedback">Please provide a valid email.</div>
  </div>

  <div class="col-md-6">
    <label for="password" class="form-label">Password</label>
    <input type="password" [(ngModel)]="userobj.password" name="password" class="form-control" id="password" >
    <div class="invalid-feedback">Please provide a password.</div>
  </div>

  <div class="col-12">
     {{userobj.Id}}
     @if ((userobj.Id == 0)) {
        <button class="btn btn-primary" type="submit" [disabled]="formvalue.invalid" (click)="onSave()">Save User</button>
     } @else {
        <button class="btn btn-warning" type="submit" (click)="onUpdate()">Update</button>
     }
  </div>
</form>


            </div>
        </div>
    </div>
    <!-- } -->
    
</div>